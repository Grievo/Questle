
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Questle | Dashboard</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
    body {
      background-color: #1f5122;
      color: #f1f1f1;
      font-family: 'Press Start 2P', cursive;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #3e8e41;
      padding: 20px;
      text-align: center;
      border-bottom: 5px solid #2f6e32;
    }
    nav {
      text-align: center;
      padding: 10px;
    }
    nav a {
      color: #f0f0f0;
      text-decoration: none;
      margin: 0 15px;
    }
    .dashboard {
      max-width: 700px;
      margin: 40px auto;
      background: #2f6e32;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px #000;
    }
    .game {
      margin-bottom: 30px;
    }
    .bar {
      height: 20px;
      background: #444;
      border-radius: 5px;
      overflow: hidden;
    }
    .fill {
      height: 100%;
      background: #00ff00;
      width: 0%;
    }
  </style>
</head>
<body>
  <header>
    <h1>Questle | Dashboard</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="quests.html">Quests</a>
      <a href="store.html">Store</a>
      <a href="dashboard.html">Dashboard</a>
    </nav>
  </header>
  <div class="dashboard" id="dashPanel"></div>

  <script>
    const summary = [{'Game': 'Baldur’s Gate 3', 'total_quests': 5, 'total_points': 120}, {'Game': 'Diablo 4', 'total_quests': 5, 'total_points': 120}, {'Game': 'Farming Simulator', 'total_quests': 5, 'total_points': 120}, {'Game': 'League of Legends', 'total_quests': 5, 'total_points': 120}, {'Game': 'Minecraft', 'total_quests': 5, 'total_points': 120}, {'Game': 'Monster Hunter Wilds', 'total_quests': 5, 'total_points': 120}, {'Game': 'Palworld', 'total_quests': 5, 'total_points': 120}];
    const quests = [{'ID': 'quest0', 'Game': 'Minecraft', 'Points': 50}, {'ID': 'quest1', 'Game': 'Minecraft', 'Points': 25}, {'ID': 'quest2', 'Game': 'Minecraft', 'Points': 25}, {'ID': 'quest3', 'Game': 'Minecraft', 'Points': 10}, {'ID': 'quest4', 'Game': 'Minecraft', 'Points': 10}, {'ID': 'quest5', 'Game': 'League of Legends', 'Points': 50}, {'ID': 'quest6', 'Game': 'League of Legends', 'Points': 25}, {'ID': 'quest7', 'Game': 'League of Legends', 'Points': 25}, {'ID': 'quest8', 'Game': 'League of Legends', 'Points': 10}, {'ID': 'quest9', 'Game': 'League of Legends', 'Points': 10}, {'ID': 'quest10', 'Game': 'Monster Hunter Wilds', 'Points': 50}, {'ID': 'quest11', 'Game': 'Monster Hunter Wilds', 'Points': 25}, {'ID': 'quest12', 'Game': 'Monster Hunter Wilds', 'Points': 25}, {'ID': 'quest13', 'Game': 'Monster Hunter Wilds', 'Points': 10}, {'ID': 'quest14', 'Game': 'Monster Hunter Wilds', 'Points': 10}, {'ID': 'quest15', 'Game': 'Farming Simulator', 'Points': 50}, {'ID': 'quest16', 'Game': 'Farming Simulator', 'Points': 25}, {'ID': 'quest17', 'Game': 'Farming Simulator', 'Points': 25}, {'ID': 'quest18', 'Game': 'Farming Simulator', 'Points': 10}, {'ID': 'quest19', 'Game': 'Farming Simulator', 'Points': 10}, {'ID': 'quest20', 'Game': 'Diablo 4', 'Points': 50}, {'ID': 'quest21', 'Game': 'Diablo 4', 'Points': 25}, {'ID': 'quest22', 'Game': 'Diablo 4', 'Points': 25}, {'ID': 'quest23', 'Game': 'Diablo 4', 'Points': 10}, {'ID': 'quest24', 'Game': 'Diablo 4', 'Points': 10}, {'ID': 'quest25', 'Game': 'Baldur’s Gate 3', 'Points': 50}, {'ID': 'quest26', 'Game': 'Baldur’s Gate 3', 'Points': 25}, {'ID': 'quest27', 'Game': 'Baldur’s Gate 3', 'Points': 25}, {'ID': 'quest28', 'Game': 'Baldur’s Gate 3', 'Points': 10}, {'ID': 'quest29', 'Game': 'Baldur’s Gate 3', 'Points': 10}, {'ID': 'quest30', 'Game': 'Palworld', 'Points': 50}, {'ID': 'quest31', 'Game': 'Palworld', 'Points': 25}, {'ID': 'quest32', 'Game': 'Palworld', 'Points': 25}, {'ID': 'quest33', 'Game': 'Palworld', 'Points': 10}, {'ID': 'quest34', 'Game': 'Palworld', 'Points': 10}];
    const completed = JSON.parse(localStorage.getItem("questle-completedQuests") || "[]");
    const dash = document.getElementById("dashPanel");

    summary.forEach(group => {
      const game = group.Game;
      const gameQuests = quests.filter(q => q.Game === game);
      const done = gameQuests.filter(q => completed.includes(q.ID));
      const earned = done.reduce((sum, q) => sum + q.Points, 0);
      const percent = group.total_points > 0 ? Math.round((earned / group.total_points) * 100) : 0;

      const div = document.createElement("div");
      div.className = "game";
      div.innerHTML = `
        <h2>${game}</h2>
        <p>Completed: ${done.length} / ${group.total_quests} quests</p>
        <p>Points: ${earned} / ${group.total_points}</p>
        <div class="bar"><div class="fill" style="width: ${percent}%;"></div></div>
      `;
      dash.appendChild(div);
    });
  </script>
</body>
</html>
