
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Questle | Store</title>
  
  <style>
  @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
  body {
    background-color: #1f5122;
    font-family: 'Press Start 2P', cursive;
    color: #f1f1f1;
    margin: 0;
    padding: 0;
  }
  header {
    background-color: #3e8e41;
    padding: 20px;
    text-align: center;
    color: white;
    border-bottom: 5px solid #2f6e32;
  }
  nav a {
    margin: 0 12px;
    color: #f0f0f0;
    text-decoration: none;
    font-weight: bold;
  }
  nav a:hover {
    text-shadow: 0 0 3px #fff;
  }
  .points-available {
    text-align: center;
    font-size: 0.9em;
    margin-top: 15px;
    color: #d9ffcc;
  }
  .meta {
    color: #aaffaa;
  }
  .quest-entry.completed .quest-text {
    text-decoration: line-through;
    color: #888;
  }
  button {
    font-family: 'Press Start 2P', cursive;
    font-size: 0.7em;
    background: #2f6e32;
    color: white;
    border: none;
    padding: 8px;
    margin-top: 5px;
    border-radius: 5px;
    cursor: pointer;
  }
  button:hover {
    background-color: #45a049;
  }
</style>
</head>
<body>
  <header>
    <h1>Questle | Store</h1>
    
<nav>
  <a href="index.html">Home</a>
  <a href="quests.html">Quests</a>
  <a href="active.html">Active Quests</a>
  <a href="store.html">Store</a>
  <a href="dashboard.html">Dashboard</a>
</nav>

  </header>

  <div class="points-available">
    Points Available: <span id="availablePoints">0</span>
  </div>

  <div class="store">
    <div class="item"><h3>üéâ Yes Day</h3><div class="cost">5000 pts</div><button onclick="redeem('Yes Day', 5000, this)">Redeem</button></div>
    <div class="item"><h3>üçï Pizza Party</h3><div class="cost">1000 pts</div><button onclick="redeem('Pizza Party', 1000, this)">Redeem</button></div>
    <div class="item"><h3>üé¨ Movie Night</h3><div class="cost">200 pts</div><button onclick="redeem('Movie Night', 200, this)">Redeem</button></div>
    <div class="item"><h3>üçïüé¨ Pizza + Movie Night</h3><div class="cost">1100 pts</div><button onclick="redeem('Pizza + Movie Night', 1100, this)">Redeem</button></div>
    <div class="item"><h3>üéÆ New Video Game</h3><div class="cost">750 pts</div><button onclick="redeem('New Video Game', 750, this)">Redeem</button></div>
    <div class="item"><h3>üíµ $10 Cash</h3><div class="cost">500 pts</div><button onclick="redeem('$10 Cash', 500, this)">Redeem</button></div>
  </div>

  <div class="log">
    <h4>Redeemed Rewards</h4>
    <ul id="rewardLog"></ul>
  </div>

  <script>
    function updateDisplay() {
      const points = Number(localStorage.getItem('questle-totalPoints') || 0);
      document.getElementById('availablePoints').textContent = points;
      document.querySelectorAll("button").forEach(btn => {
        const cost = parseInt(btn.previousElementSibling.textContent);
        btn.disabled = points < cost;
      });

      // Load reward log
      const log = JSON.parse(localStorage.getItem('questle-rewardLog') || "[]");
      const ul = document.getElementById('rewardLog');
      ul.innerHTML = "";
      log.forEach(item => {
        const li = document.createElement("li");
        li.textContent = item;
        ul.appendChild(li);
      });
    }

    function redeem(name, cost, button) {
      let points = Number(localStorage.getItem('questle-totalPoints') || 0);
      if (points >= cost) {
        const response = prompt(`To redeem '${name}', type: I Agree`);
        if (response === "I Agree") {
          points -= cost;
          localStorage.setItem('questle-totalPoints', points);
          let log = JSON.parse(localStorage.getItem('questle-rewardLog') || "[]");
          log.push(`${name} - ${cost} pts`);
          localStorage.setItem('questle-rewardLog', JSON.stringify(log));
          updateDisplay();
          button.disabled = true;
          alert("Reward redeemed and logged! üéâ");
        } else {
          alert("You must type 'I Agree' to redeem this reward.");
        }
      }
    }

    window.onload = updateDisplay;
  </script>
</body>
</html>
